coord_map() +
blank_theme
black_white_ratio_map
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Load shapefile of US counties
county_shape <- map_data("county")
View(county_shape)
# Create blank map of the US
usa_plot <- ggplot(data = county_shape) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group),
color = "white",
size = .1
) +
coord_map()
usa_plot
# Blank theme
blank_theme <- theme_bw() +
theme(
axis.line = element_blank(), # remove axis lines
axis.text = element_blank(), # remove axis labels
axis.ticks = element_blank(), # remove axis ticks
axis.title = element_blank(), # remove axis titles
plot.background = element_blank(), # remove gray background
panel.grid.major = element_blank(), # remove major grid lines
panel.grid.minor = element_blank(), # remove minor grid lines
panel.border = element_blank() # remove border around plot
)
# Create blank map of the US
usa_plot <- ggplot(data = county_shape) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group),
color = "white",
size = .1
) +
coord_map() +
blank_theme
usa_plot
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
View(arrest_area)
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
View(arrest_area)
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
View(arrest_area)
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "Southern")
View(southern_incarceration)
View(arrest_area)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South")
View(southern_incarceration)
View(county_shape)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name))
View(southern_incarceration)
?gsub
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
View(southern_incarceration)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(gsub("county", "", county_name)))
View(southern_incarceration)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
View(southern_incarceration)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
# Load incarceration data by southern counties
county_shape <- map_data("county")
View(county_shape)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(region = county)
View(county_shape)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(subregion = county)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion)
View(county_shape)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
View(arrest_area)
View(southern_incarceration)
View(county_shape)
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
View(southern_incarceration)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
View(southern_incarceration)
# Blank theme
blank_theme <- theme_bw() +
theme(
axis.line = element_blank(), # remove axis lines
axis.text = element_blank(), # remove axis labels
axis.ticks = element_blank(), # remove axis ticks
axis.title = element_blank(), # remove axis titles
plot.background = element_blank(), # remove gray background
panel.grid.major = element_blank(), # remove major grid lines
panel.grid.minor = element_blank(), # remove minor grid lines
panel.border = element_blank() # remove border around plot
)
blank_theme
southern_jail_plot
# Create blank map of the US
southern_jail_plot <- ggplot(data = county_shape) +
geom_polygon(mapping = aes(x = long, y = lat, group = group,
fill = total_incarceration_pop, color = "white", size = .1)) +
coord_map() +
scale_fill_continuous(low = "#fee8c8", high = "#e34a33") +
labs(fill = "Total Incarcerated Population") +
blank_theme
southern_jail_plot
View(county_shape)
# Map Code
incarceration[is.na(incarceration)] = 0
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
# Blank theme
blank_theme <- theme_bw() +
theme(
axis.line = element_blank(), # remove axis lines
axis.text = element_blank(), # remove axis labels
axis.ticks = element_blank(), # remove axis ticks
axis.title = element_blank(), # remove axis titles
plot.background = element_blank(), # remove gray background
panel.grid.major = element_blank(), # remove major grid lines
panel.grid.minor = element_blank(), # remove minor grid lines
panel.border = element_blank() # remove border around plot
)
# Create blank map of the US
southern_jail_plot <- ggplot(data = county_shape) +
geom_polygon(mapping = aes(x = long, y = lat, group = group,
fill = total_incarceration_pop, color = "white", size = .1)) +
coord_map() +
scale_fill_continuous(low = "#fee8c8", high = "#e34a33") +
labs(fill = "Total Incarcerated Population") +
blank_theme
southern_jail_plot
# Create blank map of the US
southern_jail_plot <- ggplot(data = county_shape) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group,
fill = total_incarceration_pop),
color = "white",
size = .1
) +
coord_map() +
scale_fill_continuous(low = "#fee8c8", high = "#e34a33") +
labs(fill = "Total Incarcerated Population") +
blank_theme
southern_jail_plot
# Create blank map of the US
southern_jail_plot <- ggplot(data = county_shape) +
geom_polygon(
mapping = aes(x = long, y = lat, group = group,
fill = total_incarceration_pop),
color = "white",
size = .1
) +
coord_map() +
scale_fill_continuous(low = "#fee8c8", high = "Red") +
labs(fill = "Total Incarcerated Population") +
blank_theme
southern_jail_plot
View(southern_incarceration)
# Map Code Example
library("maps")
library("mapproj")
library("patchwork")
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Map Code
incarceration[is.na(incarceration)] = 0
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
# Blank theme
blank_theme <- theme_bw() +
theme(
axis.line = element_blank(), # remove axis lines
axis.text = element_blank(), # remove axis labels
axis.ticks = element_blank(), # remove axis ticks
axis.title = element_blank(), # remove axis titles
plot.background = element_blank(), # remove gray background
panel.grid.major = element_blank(), # remove major grid lines
panel.grid.minor = element_blank(), # remove minor grid lines
panel.border = element_blank() # remove border around plot
)
# Create blank map of the US
southern_jail_plot <- ggplot(data = county_shape) +
geom_polygon(
aes(x = long, y = lat, group = group, fill = total_incarceration_pop)
) +
coord_map() +
blank_theme
southern_jail_plot
View(southern_incarceration)
View(southern_jail_plot)
View(county_shape)
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
arrest_area[is.na(arrest_area)] %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
arrest_area[is.na(arrest_area)] %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
arrest_area[is.na(arrest_area)] = 0 %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Pull total jail and prison populations and census region
arrest_area_pre <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
arrest_area <- arrest_area[is.na(arrest_area)] = 0
arrest_area <- arrest_area_pre[is.na(arrest_area_pre)] = 0
arrest_area_pre[is.na(arrest_area_pre)] = 0
View(arrest_area_pre)
test <- arrest_area_pre[is.na(arrest_area_pre)] = 0
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
arrest_area <-arrest_area[is.na(arrest_area)] = 0
arrest_area <- arrest_area[is.na(arrest_area)] = 0
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
# Convert NA values to 0
incarceration[is.na(incarceration)] = 0
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = (total_prison_pop + total_jail_pop)) %>%
arrange(region)
View(arrest_area)
#  Of total incarcerated individuals by census region
region_plot <- ggplot(data = arrest_area) +
geom_col(aes(x = total_incarceration_pop, y = region, fill = region)) +
labs(title = "Individuals Incarcerated by Census Region as of 2018",
x = "Total Incarceration Population",
y = "Census Region") +
coord_flip()
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
filter(region == "South") %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
View(southern_incarceration)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
View(southern_incarceration)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
View(county_shape)
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
sample_data <- incarceration %>%
select(black_jail_pop_rate, white_jail_pop_rate, white_prison_pop_rate,
total_prison_pop_rate, total_jail_pop_rate, year, fips, state, county_name) %>%
mutate(black_white_ratio = black_jail_pop_rate / white_jail_pop_rate)  %>%
filter(year == 2018)
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = sum(total_prison_pop, total_jail_pop, na.rm = T)) %>%
arrange(region)
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = sum(total_prison_pop, total_jail_pop, na.rm = T)) %>%
arrange(region)
View(arrest_area)
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
# Load respective packages
library("tidyverse")
library("ggpubr")
library("maps")
library("mapproj")
library("patchwork")
# Load dataset from the Vera Institute
incarceration <- read.csv("https://raw.githubusercontent.com/vera-institute/incarceration-trends/master/incarceration_trends.csv")
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
mutate(total_incarceration_pop = sum(total_prison_pop, total_jail_pop, na.rm = T)) %>%
arrange(region)
View(arrest_area)
# Pull total jail and prison populations and census region
arrest_area <- incarceration %>%
select(year, county_name, state, region, total_jail_pop, total_prison_pop) %>%
filter(year == max(year)) %>%
group_by(year) %>%
rowwise() %>%
mutate(total_incarceration_pop = sum(total_prison_pop, total_jail_pop, na.rm = T)) %>%
arrange(region)
View(arrest_area)
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
#  Of total incarcerated individuals by census region
region_plot <- ggplot(data = arrest_area) +
geom_col(aes(x = total_incarceration_pop, y = region, fill = region)) +
labs(title = "Individuals Incarcerated by Census Region as of 2018",
x = "Total Incarceration Population",
y = "Census Region") +
coord_flip()
#  Of total incarcerated individuals by census region
region_plot <- ggplot(data = arrest_area) +
geom_col(aes(x = total_incarceration_pop, y = region, fill = region)) +
labs(title = "Individuals Incarcerated by Census Region as of 2018",
x = "Total Incarceration Population",
y = "Census Region") +
coord_flip()
region_plot
# Load southern region incarceration data
southern_incarceration <- arrest_area %>%
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion) %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
View(southern_incarceration)
View(southern_incarceration)
View(county_shape)
view(map_data("county"))
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion, state = region) %>%
left_join(southern_incarceration, by = "county")
View(county_shape)
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion, state = region) %>%
left_join(southern_incarceration, by = "county")
# Load southern region incarceration data
southern_incarceration <- arrest_area %>% # Sample data
mutate(county = tolower(county_name)) %>%
mutate(county = gsub("county", "", county))
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion, state = region) %>%
left_join(southern_incarceration, by = "county")
View(southern_incarceration)
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion, state = region) %>%
left_join(arrest_area, by = "county")
# Load incarceration data by southern counties
county_shape <- map_data("county") %>%
rename(county = subregion, state = region) %>%
left_join(southern_incarceration, by = "county")
View(southern_incarceration)
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
source('~/Desktop/INFO/Assignments/a3-GrahamFulton2/analysis.R')
setwd("~/Desktop/INFO/info201-project")
